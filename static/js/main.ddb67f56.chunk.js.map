{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/LoaderSpinner/LoaderSpinner.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/imagesApi.js","components/LoaderSpinner/LoaderSpinner.jsx","components/ButtonLoadMore/ButtonLoadMore.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","onSubmitForm","e","preventDefault","trim","toast","info","props","onSubmit","setState","onChangeImageName","target","value","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","name","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","map","image","src","webformatURL","alt","tags","ImageGalleryItemImage","largeImageURL","id","api","fetchImages","page","fetch","then","response","json","LoaderSpinner","loader","color","height","width","timeout","ButtonLoadMore","loading","buttonLoadMore","setTimeout","imagesAPI","loadMore","hits","finally","Button","onClick","ImageGallery","moreImages","prevProps","prevState","length","catch","error","console","log","window","scrollTo","top","document","documentElement","scrollHeight","behavior","title","onOpenModal","currentImage","dataUpdate","modalRoot","querySelector","Modal","onKeyDown","code","onCloseModal","onOverlayModalClick","currentTarget","addEventListener","removeEventListener","createPortal","Overlay","children","App","showModal","toggleModal","nodeName","dataset","autoClose","position","transition","Zoom","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ddb67f56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__11pPu\",\"title\":\"ImageGallery_title__3oJzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2gWYT\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2u5kb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2tSJP\",\"Modal\":\"Modal_Modal__2LSdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__3P09o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderSpinner_loader__10lEg\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  onSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') {\r\n      return toast.info('Введите название картинки!');\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  onChangeImageName = e => {\r\n    this.setState({ imageName: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmitForm}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              name=\"imageName\"\r\n              value={this.state.imageName}\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.onChangeImageName}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.images &&\r\n          this.props.images.map(image => (\r\n            <li className={s.ImageGalleryItem} key={image.id}>\r\n              <img\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                className={s.ImageGalleryItemImage}\r\n                data-image={image.largeImageURL}\r\n              />\r\n            </li>\r\n          ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","const BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '23025169-5a1370e5bf826cff1ac1e8732';\n\nfunction fetchImages(name, page) {\n  return fetch(\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => response.json());\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import Loader from 'react-loader-spinner';\r\nimport s from './LoaderSpinner.module.css';\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader\r\n        type=\"Bars\"\r\n        color=\"#3f51b5\"\r\n        height={200}\r\n        width={200}\r\n        timeout={1500}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import React, { Component } from 'react';\r\nimport s from './ButtonLoadMore.module.css';\r\nimport imagesAPI from '../../services/imagesApi';\r\nimport LoaderSpinner from '../LoaderSpinner/LoaderSpinner';\r\n\r\nclass ButtonLoadMore extends Component {\r\n  state = {\r\n    page: 1,\r\n    loading: false,\r\n  };\r\n\r\n  buttonLoadMore = () => {\r\n    this.setState({ loading: true });\r\n    setTimeout(() => {\r\n      imagesAPI\r\n        .fetchImages(this.props.imageName, this.state.page + 1)\r\n        .then(images => this.props.loadMore(images.hits))\r\n        .then(this.setState({ page: this.state.page + 1 }))\r\n        .finally(() => this.setState({ loading: false }));\r\n    }, 1000);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.Button} onClick={this.buttonLoadMore}>\r\n        {this.state.loading ? <LoaderSpinner /> : <p>Load more</p>}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport imagesAPI from '../../services/imagesApi';\r\nimport ButtonLoadMore from '../ButtonLoadMore/ButtonLoadMore';\r\nimport LoaderSpinner from '../LoaderSpinner/LoaderSpinner';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { imageName } = this.props;\r\n    if (prevProps.imageName !== imageName) {\r\n      this.setState({ loading: true });\r\n\r\n      setTimeout(() => {\r\n        imagesAPI\r\n          .fetchImages(imageName, this.state.page)\r\n          .then(images => {\r\n            images.hits.length === 0\r\n              ? toast.info(`Картинок с названием ${`\"${imageName}\"`} нет`)\r\n              : this.setState({ images: images.hits });\r\n          })\r\n          .catch(error => console.log(error))\r\n          .finally(() => this.setState({ loading: false }));\r\n      }, 1000);\r\n    }\r\n\r\n    if (prevState.images !== this.state.images) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMore = moreImages => {\r\n    const { images } = this.state;\r\n    this.setState({ images: [...images, ...moreImages] });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {!this.props.imageName && (\r\n          <h2 className={s.title}>Введите название картинки</h2>\r\n        )}\r\n        <ul className={s.ImageGallery} onClick={this.props.onOpenModal}>\r\n          <ImageGalleryItem\r\n            images={this.state.images}\r\n            currentImage={this.props.currentImage}\r\n          />\r\n        </ul>\r\n        {this.state.images.length > 0 && (\r\n          <ButtonLoadMore\r\n            images={this.state.images}\r\n            imageName={this.props.imageName}\r\n            loadMore={this.loadMore}\r\n            dataUpdate={this.dataUpdate}\r\n          />\r\n        )}\r\n        {this.state.loading && <LoaderSpinner />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  onOverlayModalClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onOverlayModalClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport { ToastContainer, Zoom } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    showModal: false,\n    currentImage: '',\n    page: 1,\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }));\n  };\n\n  onOpenModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      this.setState(({ showModal }) => ({\n        currentImage: e.target.dataset.image,\n        showModal: !showModal,\n      }));\n    }\n  };\n\n  onSubmitForm = imageName => {\n    this.setState({ imageName: imageName });\n  };\n\n  // dataUpdate = data => {\n  //   console.log(data);\n  // };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={this.state.currentImage} alt=\"\" width=\"950\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmitForm} />\n        <ImageGallery\n          imageName={this.state.imageName}\n          onOpenModal={this.onOpenModal}\n          currentImage={this.state.currentImage}\n          // dataUpdate={this.dataUpdate}\n        />\n        <ToastContainer\n          autoClose={2500}\n          position=\"bottom-right\"\n          transition={Zoom}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fhacS\",\"SearchForm\":\"Searchbar_SearchForm__2Kg2V\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1FG0q\",\"SearchFormBbutton\":\"Searchbar_SearchFormBbutton__13ftA\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__UVzcl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__29HeJ\"};"],"sourceRoot":""}