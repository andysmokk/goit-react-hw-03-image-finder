{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/imagesApi.js","components/ButtonLoadMore/ButtonLoadMore.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","Searchbar","state","imageName","onSubmitForm","e","preventDefault","trim","props","onSubmit","setState","alert","onChangeImageName","target","value","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","name","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","map","image","src","webformatURL","alt","tags","ImageGalleryItemImage","largeImageURL","id","BASE_URL","KEY","api","fetchImages","page","fetch","then","response","json","ButtonLoadMore","buttonLoadMore","imagesAPI","loadMore","hits","Button","onClick","ImageGallery","moreImages","console","log","prevProps","prevState","loading","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onOpenModal","currentImage","length","modalRoot","querySelector","Modal","createPortal","Overlay","children","App","showModal","toggleModal","nodeName","dataset","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.34c34d67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fhacS\",\"SearchForm\":\"Searchbar_SearchForm__2Kg2V\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1FG0q\",\"SearchFormBbutton\":\"Searchbar_SearchFormBbutton__13ftA\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__UVzcl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__29HeJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2gWYT\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2u5kb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2tSJP\",\"Modal\":\"Modal_Modal__2LSdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__11pPu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__3P09o\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  onSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') {\r\n      alert('введите что-то');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  onChangeImageName = e => {\r\n    // const { name, value } = target;\r\n    // this.setState({ [name]: value });\r\n    this.setState({ imageName: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmitForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"imageName\"\r\n            value={this.state.imageName}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChangeImageName}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  // state = {\r\n  //   images: [],\r\n  //   loading: false,\r\n  // };\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   if (prevProps.imageName !== this.props.imageName) {\r\n  //     this.setState({ loading: true });\r\n  //     fetch(\r\n  //       `https://pixabay.com/api/?q=${this.props.imageName}&page=1&key=23025169-5a1370e5bf826cff1ac1e8732&image_type=photo&orientation=horizontal&per_page=12`,\r\n  //     )\r\n  //       .then(response => response.json())\r\n  //       .then(images => this.setState({ images: images.hits }))\r\n  //       .finally(() => this.setState({ loading: false }));\r\n  //   }\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {/* {this.props.loading && <h1>Загрузка...</h1>}\r\n        {!this.props.imageName && <h2>Введите название картинки</h2>} */}\r\n        {this.props.images &&\r\n          this.props.images.map(image => (\r\n            <li className={s.ImageGalleryItem} key={image.id}>\r\n              <img\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                className={s.ImageGalleryItemImage}\r\n                data-image={image.largeImageURL}\r\n              />\r\n            </li>\r\n          ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","const BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '23025169-5a1370e5bf826cff1ac1e8732';\n\nfunction fetchImages(name, page = 1) {\n  return fetch(\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => response.json());\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { Component } from 'react';\r\nimport s from './ButtonLoadMore.module.css';\r\nimport imagesAPI from '../../services/imagesApi';\r\n\r\nclass ButtonLoadMore extends Component {\r\n  state = {\r\n    page: 1,\r\n  };\r\n\r\n  buttonLoadMore = () => {\r\n    imagesAPI\r\n      .fetchImages(this.props.imageName, this.state.page + 1)\r\n      .then(images => this.props.loadMore(images.hits))\r\n      .then(this.setState({ page: this.state.page + 1 }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.Button} onClick={this.buttonLoadMore}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","import { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport imagesAPI from '../../services/imagesApi';\r\nimport ButtonLoadMore from '../ButtonLoadMore/ButtonLoadMore';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    // loading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.imageName !== this.props.imageName) {\r\n      this.setState({ loading: true });\r\n\r\n      imagesAPI\r\n        .fetchImages(this.props.imageName)\r\n        .then(images => this.setState({ images: images.hits }));\r\n      // .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    // console.log('prevState.images', prevState.images);\r\n    // console.log('this.state.images', this.state.images);\r\n\r\n    if (prevState.images !== this.state.images) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMore = moreImages => {\r\n    console.log(moreImages);\r\n    const { images } = this.state;\r\n    this.setState({ images: [...images, ...moreImages] });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {/* {this.state.loading && <h1>Загрузка...</h1>} */}\r\n        {!this.props.imageName && <h2>Введите название картинки</h2>}\r\n        <ul className={s.ImageGallery} onClick={this.props.onOpenModal}>\r\n          <ImageGalleryItem\r\n            images={this.state.images}\r\n            currentImage={this.props.currentImage}\r\n          />\r\n        </ul>\r\n        {this.state.images.length > 0 && (\r\n          <ButtonLoadMore\r\n            images={this.state.images}\r\n            imageName={this.props.imageName}\r\n            loadMore={this.loadMore}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\n// import ButtonLoadMore from './components/ButtonLoadMore/ButtonLoadMore';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    showModal: false,\n    currentImage: '',\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }));\n  };\n\n  onOpenModal = e => {\n    console.log(e.target.nodeName);\n    if (e.target.nodeName === 'IMG') {\n      this.setState(({ showModal }) => ({\n        currentImage: e.target.dataset.image,\n        showModal: !showModal,\n      }));\n    }\n  };\n\n  onSubmitForm = imageName => {\n    this.setState({ imageName: imageName });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.showModal && (\n          <Modal>\n            <img src={this.state.currentImage} width=\"950\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmitForm} />\n        <ImageGallery\n          imageName={this.state.imageName}\n          onOpenModal={this.onOpenModal}\n          currentImage={this.state.currentImage}\n        />\n        {/* <ButtonLoadMore /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}